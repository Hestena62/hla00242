<!--
index.html

Hesten's College Portfolio & Journey (Refactored Version)

This revised HTML file improves upon the original by separating content from presentation,
making the site significantly easier to update and maintain. All academic data (notes,
timeline events, course details, etc.) is now stored in a single JSON block, which is
then used by the JavaScript to dynamically build the page.

Key Improvements:
-----------------
- **Data Separation:** All portfolio content is now located in a `<script type="application/json" id="portfolio-data">`
  block. To add a new note or timeline item, you only need to edit this JSON data, not the
  application logic.
- **Dynamic Rendering:** The notes list, timeline, and class cards are now generated
  dynamically from the JSON data when the page loads. This reduces repetitive HTML and
  makes the content manageable from a single source.
- **Nested Modals for Courses:** Clicking a course now opens a modal listing 15 weeks of assignments.
  Clicking a week opens a second modal with specific details for that assignment, creating a rich,
  drill-down experience. This weekly view now includes a "Back" button and a tabbed interface.
- **Refactored Modal System:** The modal logic is now more efficient. A single event listener
  handles all modal triggers using `data-modal-key` attributes. This eliminates repetitive
  code and makes adding new interactive elements much simpler.
- **Permalinks:** The site now supports permalinks using URL hashes. Opening any modal updates the URL,
  allowing direct linking to specific content. Browser history (back/forward) is also supported.
- **Improved Accessibility:** When a modal opens, focus is now programmatically moved to it,
  improving the experience for screen reader users.
- **Streamlined Code:** Repetitive JavaScript functions and event listeners have been
  consolidated, making the code cleaner, more efficient, and easier to understand.
- **Enhanced Search:** The search function now includes a "clear" button for better usability.

How to Update Your Content:
---------------------------
1. Find the `<script id="portfolio-data" type="application/json">` tag near the bottom of the file.
2. To update weekly assignments, find the correct course in the `courses` array and edit its `weeks` array.
   Each week has a `content` object with keys for `notes`, `essay`, `story`, `quiz`, and `classWork`.
3. Save the file. The website will automatically build the new content when you reload the page.
-->

<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hesten's College Portfolio & Journey</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>


    <!-- Custom Tailwind Config -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            400: '#38bdf8',
                            600: '#0284c7',
                            700: '#0369a1',
                        },
                        'dark': '#0f172a',
                        'dark-card': '#1e293b',
                    },
                    boxShadow: {
                        'lg-2': '0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.03)',
                        'xl-2': '0 20px 25px -5px rgba(0, 0, 0, 0.08), 0 10px 10px -5px rgba(0, 0, 0, 0.02)',
                        'dark-xl-2': '0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.1)',
                    }
                },
            }
        }
    </script>

    <!-- Custom Style -->
    <style>
        body {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            background: linear-gradient(to bottom, #fcfcfc, #f8faff);
        }

        .dark body {
            background: #0f172a;
        }

        .hero-bg-pattern {
            background-image: url("data:image/svg+xml;utf8,<svg width='10' height='10' viewBox='0 0 10 10' xmlns='http://www.w3.org/2000/svg'><circle cx='1' cy='1' r='1' fill='%23e5f3ff'/></svg>");
            background-size: 30px 30px;
        }

        .dark .hero-bg-pattern {
            background-image: url("data:image/svg+xml;utf8,<svg width='10' height='10' viewBox='0 0 10 10' xmlns='http://www.w3.org/2000/svg'><circle cx='1' cy='1' r='1' fill='%23334155'/></svg>");
        }

        .section-animate {
            opacity: 0;
            transform: translateY(20px);
            transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .faded-in {
            opacity: 1 !important;
            transform: translateY(0) !important;
        }

        :focus-visible {
            outline: 3px solid #0ea5e9;
            outline-offset: 4px;
            border-radius: 1rem;
        }

        .timeline-container::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            left: 17px;
            width: 3px;
            background-color: #e2e8f0;
        }

        .dark .timeline-container::before {
            background-color: #334155;
        }

        @media (min-width: 768px) {
            .timeline-container::before {
                left: 50%;
                transform: translateX(-50%);
            }
        }

        #custom-modal {
            display: none;
            animation: fadeIn 0.3s ease-out;
        }

        .modal-content {
            animation: fadeInScale 0.3s ease-out;
        }

        .indent-8 {
            text-indent: 2rem;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.95);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    </style>
</head>

<body class="text-slate-800 dark:bg-dark dark:text-slate-100">
    <!-- Announcement Bar -->
    <div
        class="w-full bg-primary-600 text-white text-center py-2 px-4 font-semibold text-sm md:text-base tracking-wide z-50">
        <span>ðŸš€ Welcome! Check out the latest updates on my academic journey.</span>
    </div>

    <!-- Header & Navigation -->
    <header
        class="bg-white/95 backdrop-blur-sm sticky top-0 z-40 shadow-lg-2 border-b border-slate-100 dark:bg-dark/95 dark:border-slate-700">
        <nav class="container mx-auto px-4 sm:px-6 py-4 flex justify-between items-center max-w-7xl">
            <a href="#" class="text-2xl font-extrabold text-primary-600 tracking-tight flex items-center">
                <i data-lucide="compass" class="w-6 h-6 mr-2"></i>
                Hesten<span class="text-slate-800 text-base font-medium ml-2 hidden sm:inline dark:text-slate-300"> |
                    Academic Portfolio</span>
            </a>
            <div class="hidden md:flex items-center space-x-6">
                <button id="theme-toggle-desktop"
                    class="p-2 rounded-full text-slate-500 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700 transition-colors duration-300"
                    aria-label="Toggle Dark Mode">
                    <i data-lucide="sun" id="theme-icon-desktop" class="w-5 h-5"></i>
                </button>
                <div class="flex items-center space-x-8">
                    <a href="#about"
                        class="text-slate-600 hover:text-primary-600 transition-colors duration-300 font-medium dark:text-slate-400 dark:hover:text-primary-400">About</a>
                    <a href="#timeline"
                        class="text-slate-600 hover:text-primary-600 transition-colors duration-300 font-medium dark:text-slate-400 dark:hover:text-primary-400">Timeline</a>
                    <a href="#classes"
                        class="text-slate-600 hover:text-primary-600 transition-colors duration-300 font-medium dark:text-slate-400 dark:hover:text-primary-400">Courses</a>
                    <a href="#portfolio"
                        class="text-slate-600 hover:text-primary-600 transition-colors duration-300 font-medium dark:text-slate-400 dark:hover:text-primary-400">Work</a>
                    <a href="#notes"
                        class="text-slate-600 hover:text-primary-600 transition-colors duration-300 font-medium dark:text-slate-400 dark:hover:text-primary-400">Notebook</a>
                    <a href="#contact"
                        class="bg-primary-600 text-white px-5 py-2 rounded-xl hover:bg-primary-700 transition-transform duration-300 hover:scale-[1.02] shadow-xl shadow-primary-600/30 font-semibold">Connect</a>
                </div>
            </div>
            <button id="mobile-menu-button"
                class="md:hidden p-2 rounded-lg hover:bg-slate-100 transition-colors dark:hover:bg-slate-700"
                aria-label="Open mobile menu">
                <i data-lucide="menu" id="menu-icon" class="text-slate-800 w-6 h-6 dark:text-slate-100"></i>
            </button>
        </nav>
        <div id="mobile-menu"
            class="hidden md:hidden px-4 pb-4 flex flex-col space-y-4 bg-white shadow-inner dark:bg-dark dark:shadow-slate-800">
            <button id="theme-toggle-mobile"
                class="inline-flex items-center justify-center p-2 rounded-xl bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600 transition-colors font-medium">
                <i data-lucide="sun" id="theme-icon-mobile" class="w-5 h-5 mr-2"></i> <span
                    id="mobile-toggle-text">Toggle Dark Mode</span>
            </button>
            <a href="#about"
                class="mobile-nav-link text-slate-600 hover:text-primary-600 border-b border-slate-100 pb-2 font-medium dark:text-slate-400 dark:hover:text-primary-400 dark:border-slate-700">About
                Me</a>
            <a href="#timeline"
                class="mobile-nav-link text-slate-600 hover:text-primary-600 border-b border-slate-100 pb-2 font-medium dark:text-slate-400 dark:hover:text-primary-400 dark:border-slate-700">Timeline</a>
            <a href="#classes"
                class="mobile-nav-link text-slate-600 hover:text-primary-600 border-b border-slate-100 pb-2 font-medium dark:text-slate-400 dark:hover:text-primary-400 dark:border-slate-700">Courses</a>
            <a href="#portfolio"
                class="mobile-nav-link text-slate-600 hover:text-primary-600 border-b border-slate-100 pb-2 font-medium dark:text-slate-400 dark:hover:text-primary-400 dark:border-slate-700">My
                Work</a>
            <a href="#notes"
                class="mobile-nav-link text-slate-600 hover:text-primary-600 border-b border-slate-100 pb-2 font-medium dark:text-slate-400 dark:hover:text-primary-400 dark:border-slate-700">Notebook</a>
            <a href="#contact"
                class="mobile-nav-link bg-primary-600 text-white px-4 py-2 rounded-xl text-center font-semibold hover:bg-primary-700 transition-colors">Contact
                Me</a>
        </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 max-w-7xl pt-4">

        <!-- Hero Section -->
        <section id="hero"
            class="text-center py-20 section-animate bg-white rounded-3xl border border-primary-100 shadow-xl-2 shadow-primary-200/50 overflow-hidden relative dark:bg-dark-card dark:border-slate-700 dark:shadow-dark-xl-2">
            <div class="absolute inset-0 opacity-10 bg-repeat pointer-events-none hero-bg-pattern"></div>
            <div class="relative z-10 p-4">
                <div
                    class="w-24 h-24 mx-auto rounded-full mb-6 bg-primary-100 flex items-center justify-center border-4 border-white dark:border-dark-card shadow-lg">
                    <i data-lucide="book-open-text" class="w-12 h-12 text-primary-600"></i>
                </div>
                <h1 class="text-4xl md:text-6xl font-extrabold text-slate-900 mb-6 leading-tight dark:text-slate-50">
                    Future <span class="text-primary-600 dark:text-primary-400">Educator</span>.<br class="sm:hidden">
                    Current <span class="text-primary-600 dark:text-primary-400">Scholar</span>.
                </h1>
                <p class="text-lg md:text-xl text-slate-600 max-w-4xl mx-auto dark:text-slate-400">
                    Welcome to my academic portfolio, documenting my research, writings, and reflections on
                    <strong>inclusive teaching</strong> and Social Sciences, driven by my passion for supporting
                    students with learning differences.
                </p>
                <a href="#timeline"
                    class="mt-8 inline-flex items-center text-primary-600 font-semibold group hover:text-primary-700 transition-colors duration-500 transform hover:scale-[1.05] border-b-2 border-primary-100 hover:border-primary-600 pb-1 dark:text-primary-400 dark:hover:text-primary-300 dark:border-primary-700/50 dark:hover:border-primary-400">
                    View My Journey <i data-lucide="arrow-down"
                        class="ml-2 w-5 h-5 group-hover:translate-y-0.5 transition-transform duration-300"></i>
                </a>
            </div>
        </section>

        <!-- About Me Section -->
        <section id="about" class="section-animate py-20 border-t border-slate-200 dark:border-slate-700">
            <div class="grid md:grid-cols-2 gap-16 items-center">
                <div>
                    <h2 class="text-4xl font-extrabold text-slate-900 mb-4 tracking-tight dark:text-slate-50">Hi, I'm
                        Hesten! ðŸ‘‹</h2>
                    <p class="text-slate-600 mb-4 text-lg leading-relaxed dark:text-slate-400">
                        I'm a dedicated student at the Community College of Vermont (CCV). As a scholar who also manages
                        learning differences, I bring a deep sense of <strong>empathy and practical
                            understanding</strong> to education. This website showcases my academic work and commitment
                        to building inclusive, accessible classrooms.
                    </p>
                    <div
                        class="bg-primary-50 rounded-xl p-6 shadow-md border border-primary-100 mt-6 dark:bg-slate-700 dark:border-slate-600">
                        <i data-lucide="target" class="text-primary-600 w-6 h-6 mb-3 dark:text-primary-400"></i>
                        <p class="text-slate-700 italic font-medium dark:text-slate-300">
                            My goal is to transfer to the <strong>University of Vermont (UVM)</strong> for Secondary
                            Education, concentrating in History and Social Sciences, with a special focus on Universal
                            Design for Learning (UDL) and student advocacy.
                        </p>
                    </div>
                </div>
                <div
                    class="bg-white rounded-xl p-8 shadow-xl-2 border border-slate-100 transition-shadow duration-300 hover:shadow-2xl dark:bg-dark-card dark:border-slate-700 dark:shadow-dark-xl-2">
                    <h3
                        class="text-2xl font-bold text-slate-900 mb-6 border-b border-slate-100 pb-3 dark:text-slate-50 dark:border-slate-700">
                        My Academic Snapshot</h3>
                    <div class="flex flex-col space-y-6">
                        <div tabindex="0" role="button" aria-expanded="false" data-modal-key="studies-overview"
                            class="flex items-start p-3 -m-3 rounded-lg cursor-pointer transition-colors duration-200 hover:bg-primary-50 dark:hover:bg-dark-card/50">
                            <i data-lucide="graduation-cap"
                                class="text-primary-600 w-7 h-7 flex-shrink-0 mt-1 dark:text-primary-400"></i>
                            <div class="ml-4">
                                <p class="font-semibold text-slate-900 dark:text-slate-100">
                                    Current Studies <i data-lucide="external-link"
                                        class="w-4 h-4 inline-block ml-1 text-primary-600 dark:text-primary-400"></i>
                                </p>
                                <p class="text-slate-600 text-sm dark:text-slate-400">Associate of Arts in Liberal
                                    Studies (CCV)</p>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <i data-lucide="map-pin"
                                class="text-primary-600 w-7 h-7 flex-shrink-0 mt-1 dark:text-primary-400"></i>
                            <div class="ml-4">
                                <p class="font-semibold text-slate-900 dark:text-slate-100">Transfer Target</p>
                                <p class="text-slate-600 text-sm dark:text-slate-400">University of Vermont (UVM) -
                                    Secondary Education</p>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <i data-lucide="briefcase"
                                class="text-primary-600 w-7 h-7 flex-shrink-0 mt-1 dark:text-primary-400"></i>
                            <div class="ml-4">
                                <p class="font-semibold text-slate-900 dark:text-slate-100">Core Focus</p>
                                <p class="text-slate-600 text-sm dark:text-slate-400">Inclusive Education, History, and
                                    Student Advocacy</p>
                            </div>
                        </div>
                    </div>
                    <div class="mt-8 pt-6 border-t border-slate-100 dark:border-slate-700">
                        <button data-modal-key="full-degree-plan"
                            class="w-full inline-flex items-center justify-center bg-primary-50 text-primary-700 px-5 py-3 rounded-xl border border-primary-300 hover:bg-primary-100 transition-colors font-semibold shadow-md dark:bg-slate-700 dark:text-primary-400 dark:border-primary-700 dark:hover:bg-slate-600">
                            <i data-lucide="layout-list" class="w-5 h-5 mr-3"></i> View Full Degree Plan Outline
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Education Timeline Section -->
        <section id="timeline" class="section-animate py-20 border-t border-slate-200 dark:border-slate-700">
            <h2 class="text-3xl font-bold text-slate-900 mb-12 text-center dark:text-slate-50">Education & Career Path
            </h2>
            <div id="timeline-container" class="timeline-container max-w-4xl mx-auto">
                <!-- Timeline items will be dynamically inserted here -->
            </div>
        </section>

        <!-- Current Classes Section -->
        <section id="classes" class="section-animate py-20 border-t border-slate-200 dark:border-slate-700">
            <h2 class="text-3xl font-bold text-slate-900 mb-12 text-center dark:text-slate-50">Current & Recent
                Coursework</h2>
            <div id="courses-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Course cards will be dynamically inserted here -->
            </div>
            <div class="text-center mt-12">
                <a href="javascript:void(0);" data-modal-key="transcripts"
                    class="inline-flex items-center text-slate-500 hover:text-primary-600 transition-colors font-medium border-b border-dashed border-slate-300 pb-0.5 dark:text-slate-400 dark:hover:text-primary-400 dark:border-slate-600">
                    <i data-lucide="archive" class="w-5 h-5 mr-2"></i> View Full Course List (Transcripts)
                </a>
            </div>
        </section>

        <!-- Portfolio Section -->
        <section id="portfolio" class="section-animate py-20 border-t border-slate-200 dark:border-slate-700">
            <h2 class="text-3xl font-bold text-slate-900 mb-12 text-center dark:text-slate-50">My Academic Work &
                Projects</h2>
            <div id="portfolio-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Project cards will be dynamically inserted here -->
            </div>
        </section>

        <!-- Notes Section -->
        <section id="notes" class="section-animate py-20 border-t border-slate-200 dark:border-slate-700">
            <div
                class="bg-white rounded-xl shadow-xl-2 shadow-primary-100/50 p-8 md:p-12 border border-primary-100 dark:bg-dark-card dark:border-slate-700 dark:shadow-dark-xl-2">
                <div class="max-w-3xl mx-auto text-center">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4 dark:text-slate-50">My Digital Notebook ðŸ§ </h2>
                    <p class="text-slate-600 mb-8 dark:text-slate-400">A curated and searchable collection of my class
                        notes and reading summaries. Feel free to browse for study inspiration!</p>
                    <div class="relative">
                        <i data-lucide="search"
                            class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"></i>
                        <input type="text" id="notes-search"
                            placeholder="Search notes (e.g., 'vygotsky', 'constitution')..."
                            class="w-full pl-12 pr-10 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-primary-600 focus:border-primary-600 transition-all shadow-inner dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 dark:focus:ring-primary-400 dark:focus:border-primary-400"
                            aria-label="Search digital notes">
                        <button id="clear-search"
                            class="absolute right-3 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hidden"
                            aria-label="Clear search">
                            <i data-lucide="x" class="w-5 h-5"></i>
                        </button>
                    </div>
                </div>
                <ul id="notes-list" class="mt-12 grid sm:grid-cols-2 lg:grid-cols-3 gap-6" role="list">
                    <!-- Note items will be dynamically inserted here -->
                </ul>
                <p id="no-results" class="text-center text-slate-500 mt-8 hidden dark:text-slate-400">
                    <i data-lucide="frown" class="w-6 h-6 inline-block mr-2"></i> No notes found matching your search.
                </p>
                <div class="text-center mt-8">
                    <button id="load-more-notes"
                        class="inline-flex items-center bg-primary-100 text-primary-700 px-6 py-2 rounded-xl border border-primary-300 hover:bg-primary-200 transition-colors font-semibold shadow-inner dark:bg-slate-700 dark:text-primary-400 dark:border-primary-700 dark:hover:bg-slate-600">
                        <i data-lucide="refresh-ccw" class="w-4 h-4 mr-2"></i> Load More Notes
                    </button>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="section-animate py-20 border-t border-slate-200 dark:border-slate-700 text-center">
            <h2 class="text-4xl font-extrabold text-slate-900 mb-4 tracking-tight dark:text-slate-50">Let's Connect</h2>
            <p class="text-slate-600 max-w-2xl mx-auto mb-10 text-lg dark:text-slate-400">Have a question about my work,
                a transfer opportunity, or just want to collaborate on educational advocacy? I'd love to hear from you!
            </p>
            <button data-modal-key="contact-info"
                class="inline-flex items-center bg-primary-600 text-white px-8 py-3 rounded-xl hover:bg-primary-700 transition-transform duration-300 hover:scale-[1.05] shadow-xl-2 shadow-primary-600/50 text-lg font-semibold dark:shadow-primary-400/30">
                <i data-lucide="mail" class="mr-3 w-5 h-5"></i>
                Contact Hesten
            </button>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-dark text-slate-400">
        <div
            class="container mx-auto px-4 sm:px-6 py-10 flex flex-col md:flex-row justify-between items-center text-center md:text-left max-w-7xl">
            <div>
                <p class="font-bold text-white text-lg">Hesten's Academic Portfolio</p>
                <p class="text-sm mt-1">&copy; 2025 All Rights Reserved. Built with Tailwind CSS and Lucide Icons.</p>
            </div>
            <div class="flex space-x-6 mt-6 md:mt-0">
                <a href="https://github.com/Hestena62/hla00242" target="_blank" rel="noopener noreferrer"
                    class="hover:text-primary-400 transition-colors" aria-label="GitHub Profile"><i data-lucide="github"
                        class="w-6 h-6"></i></a>
                <a href="#" class="hover:text-primary-400 transition-colors" aria-label="LinkedIn Profile"><i
                        data-lucide="linkedin" class="w-6 h-6"></i></a>
                <a href="https://www.x.com/hla00242" target="_blank" rel="noopener noreferrer"
                    class="hover:text-primary-400 transition-colors" aria-label="Twitter Profile"><i
                        data-lucide="twitter" class="w-6 h-6"></i></a>
            </div>
        </div>
    </footer>

    <!-- Custom Modal for Detail View -->
    <div id="custom-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title"
        class="fixed inset-0 bg-black/60 flex justify-center items-center z-50 p-4" tabindex="-1">
        <div
            class="modal-content bg-white p-8 rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-2xl dark:bg-dark-card dark:text-slate-100">
            <div class="flex justify-between items-center border-b pb-3 mb-4 border-slate-200 dark:border-slate-700">
                <div class="flex items-center">
                    <button id="modal-back-button"
                        class="hidden text-slate-400 hover:text-slate-700 p-2 rounded-full transition-colors dark:hover:text-slate-200 mr-2"
                        aria-label="Go Back">
                        <i data-lucide="arrow-left" class="w-6 h-6"></i>
                    </button>
                    <h3 id="modal-title" class="text-2xl font-bold text-slate-900 dark:text-slate-50">
                        <!-- Title content injected here -->
                    </h3>
                </div>
                <button id="close-modal-button"
                    class="text-slate-400 hover:text-slate-700 p-2 rounded-full transition-colors dark:hover:text-slate-200"
                    aria-label="Close Detail View">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>
            <div id="modal-content-body" class="space-y-4 text-slate-600 dark:text-slate-300">
                <!-- Dynamic content injected here -->
            </div>
            <button id="modal-got-it-button"
                class="w-full sm:w-auto sm:float-right mt-6 bg-primary-600 text-white px-6 py-2 rounded-xl hover:bg-primary-700 transition-colors font-semibold">
                Got It
            </button>
        </div>
    </div>

    <!--
    ========================================================================
    | PORTFOLIO DATA STORE                                                 |
    | To update site content, edit the JSON data below.                    |
    | The script will automatically build the page from this data source.  |
    ========================================================================
    -->
    <script id="portfolio-data" type="application/json">
    {
        "modals": {
            "studies-overview": {
                "title": "My Academic Path: CCV to UVM (Overview)",
                "content": "<div class='space-y-6'><div><h4 class='text-xl font-bold text-primary-600 dark:text-primary-400 flex items-center mb-2'><i data-lucide='pen-tool' class='w-5 h-5 inline mr-3'></i>Phase 1: A.A. in Liberal Studies</h4><p class='ml-8 text-slate-700 dark:text-slate-300'>At <strong>CCV</strong>, I am building a flexible, interdisciplinary foundation. The focus is on courses that fulfill core humanities requirements while gaining early exposure to <strong>pedagogy, history, and sociology</strong>.</p></div><div><h4 class='text-xl font-bold text-primary-600 dark:text-primary-400 flex items-center mb-2'><i data-lucide='compass' class='w-5 h-5 inline mr-3'></i>Core Focus: UDL</h4><p class='ml-8 text-slate-700 dark:text-slate-300'>My unique perspective drives me to emphasize UDL principles, ensuring that my future classroom designs are <strong>proactively accessible</strong> to all students from day one.</p></div><div><h4 class='text-xl font-bold text-primary-600 dark:text-primary-400 flex items-center mb-2'><i data-lucide='arrow-right-circle' class='w-5 h-5 inline mr-3'></i>Phase 2: Transfer to UVM</h4><p class='ml-8 text-slate-700 dark:text-slate-300'>My next step is transferring to the <strong>University of Vermont</strong> to pursue a B.S. in Secondary Education, providing the specific training and licensure required to teach History and Social Sciences.</p></div></div>"
            },
            "full-degree-plan": {
                "title": "Full CCV A.A. to UVM B.S. Degree Plan",
                "content": "<div class='space-y-8'><h4 class='text-2xl font-bold text-slate-900 dark:text-slate-50 border-b pb-2'>Phase 1: CCV Associate of Arts (60 Credits)</h4><div class='p-4 bg-slate-100 rounded-lg dark:bg-slate-700'><p class='font-bold text-lg text-primary-600 dark:text-primary-400 mb-3 flex items-center'><i data-lucide='building' class='w-5 h-5 mr-2'></i> Core Prerequisites</p><ul class='list-disc list-inside space-y-2 text-sm ml-4 text-slate-700 dark:text-slate-300'><li>ENG 101/102 (College Writing I & II)</li><li>MAT 101/105 (Math Pathway)</li><li><strong>INT 1050 (Self and Society) - Completed</strong></li><li>Science w/ Lab (E.g., BIO 101)</li></ul></div><div class='p-4 bg-slate-100 rounded-lg dark:bg-slate-700'><p class='font-bold text-lg text-primary-600 dark:text-primary-400 mb-3 flex items-center'><i data-lucide='book-open' class='w-5 h-5 mr-2'></i> Concentration Courses</p><ul class='list-disc list-inside space-y-2 text-sm ml-4 text-slate-700 dark:text-slate-300'><li><strong>History (12 Credits):</strong> HIS 103, HIS 201, HIS 205.</li><li><strong>Education/Sociology (9 Credits):</strong> SOC 101, EDU 105, PSY 101.</li></ul></div><h4 class='text-2xl font-bold text-slate-900 dark:text-slate-50 border-b pb-2'>Phase 2: UVM B.S. Secondary Ed.</h4><div class='p-4 bg-slate-100 rounded-lg dark:bg-slate-700'><p class='font-bold text-lg text-primary-600 dark:text-primary-400 mb-3 flex items-center'><i data-lucide='school' class='w-5 h-5 mr-2'></i> Professional Education Sequence</p><ul class='list-disc list-inside space-y-2 text-sm ml-4 text-slate-700 dark:text-slate-300'><li>EDSC 200: Teaching for Social Justice</li><li>EDSP 205: Secondary Special Education Methods (UDL Focus)</li><li><strong>EDSC 300: Student Teaching Internship</strong> - Capstone</li></ul></div></div>"
            },
            "transcripts": {
                "title": "Transcripts & Course Records",
                "content": "<p>My official transcripts are available upon request for academic or professional review. Please contact me via email to request a copy.</p><div class='mt-4 space-y-2'><a href='mailto:hla00242@ccv.vsc.edu?subject=Transcript%20Request' class='inline-flex items-center text-primary-600 dark:text-primary-400 hover:text-primary-700 transition-colors font-medium'><i data-lucide='mail' class='w-5 h-5 mr-2'></i>Request Official Transcripts</a></div>"
            },
            "hs-diploma": {
                "title": "High School Academic Highlights",
                "content": "<div class='border-b border-slate-200 dark:border-slate-600 mb-4'><nav class='flex space-x-2' aria-label='Tabs'><button data-tab='coursework' class='tab-button px-4 py-2 text-sm font-medium rounded-md bg-primary-100 text-primary-700 dark:bg-slate-600 dark:text-primary-300'>Coursework</button><button data-tab='scores' class='tab-button px-4 py-2 text-sm font-medium rounded-md text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-700'>Test Scores</button><button data-tab='transcript' class='tab-button px-4 py-2 text-sm font-medium rounded-md text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-700'>Transcript</button></nav></div><div><div data-tab-content='coursework' class='tab-content space-y-4'><h4 class='text-lg font-bold text-slate-800 dark:text-slate-200'>Selected Advanced Coursework</h4><ul class='list-disc list-inside space-y-2 ml-4'><li><strong>AP U.S. History:</strong> Grade A. Focused on primary source analysis and long-form essay writing (LEQ/DBQ).</li><li><strong>AP English Literature & Composition:</strong> Grade A. Developed critical reading and literary theory application skills.</li><li><strong>Honors Physics:</strong> Grade B+. Built a strong foundation in logical reasoning and structured problem-solving.</li><li><strong>Psychology (Elective):</strong> Grade A. Gained early exposure to cognitive theories relevant to Universal Design for Learning (UDL).</li></ul></div><div data-tab-content='scores' class='tab-content space-y-4 hidden'><h4 class='text-lg font-bold text-slate-800 dark:text-slate-200'>Standardized Test Scores</h4><ul class='list-disc list-inside space-y-2 ml-4'><li><strong>SAT:</strong> 1450 (730 Evidence-Based Reading and Writing, 720 Math)</li><li><strong>ACT:</strong> 32 Composite</li><li><strong>AP U.S. History Exam:</strong> 5</li><li><strong>AP English Literature Exam:</strong> 5</li></ul></div><div data-tab-content='transcript' class='tab-content space-y-4 hidden'><h4 class='text-lg font-bold text-slate-800 dark:text-slate-200'>Official Transcript</h4><p>My official high school transcript is available for review upon request. Please use the contact form to send a request.</p><a href='#contact' class='inline-flex items-center text-primary-600 dark:text-primary-400 hover:text-primary-700 transition-colors font-medium'><i data-lucide='mail' class='w-5 h-5 mr-2'></i>Request Transcript</a></div></div>"
            },
             "ccv-studies": {
                "title": "CCV: Associate of Arts, Liberal Studies",
                "content": "<div class='border-b border-slate-200 dark:border-slate-600 mb-4'><nav class='flex flex-wrap -mb-px space-x-4' aria-label='Tabs'><button data-tab='overview' class='tab-button whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm border-primary-500 text-primary-600'>Program Overview</button><button data-tab='coursework' class='tab-button whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300'>Key Coursework</button><button data-tab='transfer' class='tab-button whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300'>Transfer Plan</button></nav></div><div><div data-tab-content='overview' class='tab-content space-y-4 py-4'><h4 class='text-lg font-bold text-slate-800 dark:text-slate-200'>Strategic Foundation</h4><p>The A.A. in Liberal Studies at CCV is strategically chosen for its <strong>flexibility and high transferability</strong> to UVM's education program. It allows me to complete foundational prerequisites efficiently while focusing my electives on my target major in Secondary Education.</p></div><div data-tab-content='coursework' class='tab-content space-y-4 py-4 hidden'><h4 class='text-lg font-bold text-slate-800 dark:text-slate-200'>Core & Concentration Courses</h4><ul class='list-disc list-inside space-y-2 ml-4'><li><strong>INT-1050 (Self & Society):</strong> A foundational course examining individual beliefs and societal structures.</li><li><strong>SOC-101 (Intro to Sociology):</strong> Provided frameworks for understanding social inequality.</li><li><strong>EDU-105 (Intro to Special Ed):</strong> Direct exposure to concepts of learning disabilities and UDL.</li><li><strong>HIS-201 (American History):</strong> Advanced study of post-1865 history, core to my licensure goal.</li></ul></div><div data-tab-content='transfer' class='tab-content space-y-4 py-4 hidden'><h4 class='text-lg font-bold text-slate-800 dark:text-slate-200'>Pathway to UVM</h4><p>I am following the Vermont State Colleges System articulation agreement, which guarantees seamless transfer of credits for my A.A. degree to the B.S. in Secondary Education program at the University of Vermont. My academic advisor and I have mapped all CCV courses to ensure they meet UVM's requirements for junior-year entry.</p></div></div>"
            },
            "contact-info": {
                "title": "Contact Information",
                "content": "<div class='space-y-4'><p>The best way to reach me is by email. I am always open to discussing educational advocacy, transfer opportunities, or collaborating on projects related to inclusive teaching.</p><div class='mt-4 space-y-3'><a href='mailto:hla00242@ccv.vsc.edu' class='flex items-center p-3 rounded-lg bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors'><i data-lucide='mail' class='w-6 h-6 mr-4 text-primary-600 dark:text-primary-400'></i><div><p class='font-semibold text-slate-800 dark:text-slate-200'>hla00242@ccv.vsc.edu</p><p class='text-sm text-slate-500 dark:text-slate-400'>Click to send an email</p></div></a><div class='flex items-center p-3'><i data-lucide='map-pin' class='w-6 h-6 mr-4 text-primary-600 dark:text-primary-400'></i><div><p class='font-semibold text-slate-800 dark:text-slate-200'>Burlington, Vermont, USA</p><p class='text-sm text-slate-500 dark:text-slate-400'>Open to local and remote opportunities</p></div></div></div><div class='mt-6 pt-4 border-t border-slate-200 dark:border-slate-600 flex justify-center space-x-6'><a href='https://github.com/Hestena62/hla00242' target='_blank' rel='noopener noreferrer' class='text-slate-400 hover:text-primary-400 transition-colors' aria-label='GitHub Profile'><i data-lucide='github' class='w-6 h-6'></i></a><a href='#' class='text-slate-400 hover:text-primary-400 transition-colors' aria-label='LinkedIn Profile'><i data-lucide='linkedin' class='w-6 h-6'></i></a><a href='https://www.x.com/hla00242' target='_blank' rel='noopener noreferrer' class='text-slate-400 hover:text-primary-400 transition-colors' aria-label='Twitter Profile'><i data-lucide='twitter' class='w-6 h-6'></i></a></div></div>"
            }
        },
        "timeline": [
            { "id": "hs-diploma", "date": "June 2025", "title": "High School Diploma", "description": "Graduated from Burlington High School. Click to view key coursework and academic files.", "icon": "award", "color": "slate", "align": "left" },
            { "id": "ccv-studies", "date": "2025 - Present", "title": "Associate of Arts, Liberal Studies", "description": "Community College of Vermont (CCV). Click to view program details and relevant coursework.", "icon": "graduation-cap", "color": "primary", "align": "right", "active": true },
            { "id": "uvm-transfer", "date": "Target: Fall 2027", "title": "BS in Secondary Education (UVM)", "description": "Seeking transfer admission to the University of Vermont (UVM). Click to see target degree plan.", "icon": "flag", "color": "amber", "align": "left" },
            { "id": "future-career", "date": "Beyond", "title": "Secondary Education Teacher & Advocate", "description": "Goal: To inspire the next generation through teaching history and civics in a Vermont high school, specializing in differentiated instruction.", "icon": "briefcase", "color": "dark", "align": "right" }
        ],
        "courses": [
            { 
                "id": "int-1050", 
                "semester": "Fall 2025-VUO6", 
                "title": "INT-1050: Intro Self and Society", 
                "description": "Critical examination of societal values, individual beliefs, ways of knowing, and cultural worldviews.", 
                "icon": "archive", 
                "color": "primary",
                "weeks": [
                    { 
                        "week": 1, 
                        "title": "So, What Are You, Anyway?", 
                        "content": { 
                            "notes": "So what are you anyway by Laurance Hill, is a powerful story on why we shouldn't judge somine fir their skin color. He wrote the story as an alagory to his childhood.",
                            "essay": "<div class='space-y-4 text-left leading-relaxed'><p class='text-sm text-slate-600 dark:text-slate-400 mb-6 pb-4 border-b border-slate-200 dark:border-slate-600'>Student Name: Hesten A (Sheldon)<br>Date: 9/13/25<br>Assignment: ResPapr So, What are You, Anyway<br>Class: DIMENSIONS OF SELF AND SOCIETY</p><p class='indent-8'>Lawrence Hill's story, \\\"So, What are You, Anyway?\\\", serves as a poignant allegory for the experiences of a mixed-race child. The story stood out to me from what I normally read, but my prior knowledge of the time and context of Lawrence Hill's childhood made it less jarring. I believe Hill's purpose was to convey a personal experience, either of his own or that of someone close to him, using the story to illustrate what daily life was like for him as a child. This essay will argue that using character interactions and a realistic setting, Hill effectively explores how racial prejudice shapes a person's identity and sense of self. Furthermore, by understanding Hill's background as the son of civil rights activists, we can see how his real-life experiences with race and identity directly influence his writing.</p><p class='indent-8'>The story's power lies in its ability to evoke a strong personal reaction, even before the author's full intent becomes clear. The narrative ultimately reveals itself to be about an event from a long time ago, involving \\\"cruel people with closed minds filled with hatred\\\". This theme resonates deeply with me because I was raised not to focus on a person's race or skin color, but rather to see them for who they are using their character and actions.</p><p class='indent-8'>My mother taught me this lesson through her own actions. She once told me a story about my younger brother, who has a dark-skinned friend in grade school. One day, my brother saw a boy riding his bike and thought it was his friend, but it wasn't. My mom was about to say it wasn't him because the boy on the bike was white, but she stopped herself. Instead, she simply said, \\\"I don't think that is your friend\\\". When my brother asked why, she replied, \\\"I just don't think he is\\\". This interaction demonstrates her commitment to raising us to see a person for who they are, not their skin color. This personal anecdote, like the story's theme, reinforces the idea that racism and hatred are learned behaviors, not innate qualities. As Dr. Nina J. stated in a video I watched, \\\"We aren't one race, we are one people on this earth\\\".</p><p class='indent-8'>Lawrence Hill's purpose is to examine how racial prejudice shapes a person's identity and sense of self. This is powerfully conveyed through specific character interactions, particularly with the stewardess. When a woman in front of Carole stands up and asks, \\\"Would you like to come and sit with me, little girl?\\\" and the stewardess later says, \\\"How would you like to come and sit with me?\\\" while offering her a \\\"special drink\\\" like a Shirley Temple, these seemingly kind gestures highlight Carole's feeling of being \\\" bothered \\\". These actions, though perhaps well-intentioned, make Carole an object of curiosity or pity, underscoring the racial prejudice that shapes her identity and isolates her from a sense of belonging. This focus on individual interaction reveals how racism is not always overt hatred, but can also be a subtle, daily experience that chips away at a person's sense of self.</p><p class='indent-8'>Hill's background provides critical context for understanding his purpose. As the son of a black father and a white mother, both of whom were civil rights activists, he grew up in a household deeply engaged in social justice issues. His experiences traveling and working in Africa also helped him navigate his mixed-race identity and challenged his preconceived notions about what it meant to be black. This personal history is a direct influence on his writing, which consistently explores themes of race, identity, and belonging. His most famous work, The Book of Negroes is a historical novel that sheds light on ongoing issues of race and identity by using the real-life ledger of Black Loyalists who escaped to Canada. Through this and other works, Hill urges readers to recognize the historical roots of racism and the personal toll it takes on individuals, serving as a call for empathy and understanding.</p><p class='indent-8'>In conclusion, Lawrence Hill's \\\"So, What are You, Anyway?\\\" is an impactful story that leverages personal experience to illuminate the complexities of racial identity. Drawing on my existing knowledge of the time, I found the story's unusual nature to be thought-provoking rather than bothersome. Hill's use of character interactions and his own personal background allowed him to create a powerful commentary on how prejudice shapes a person's sense of self. If more people were to read this story, it would hopefully encourage them to reexamine their values and confront any prejudices they may hold. The story, and Hill's work, underscores a simple yet vital truth: racism is never acceptable, and it must be addressed and eliminated.</p></div>",
                            "story": "Story content for week 1.", 
                            "quiz": "Quiz content for week 1.", 
                            "classWork": "Class work for week 1." 
                        } 
                    },
                    { "week": 2, "title": "Ethical Frameworks Analysis", "content": { "notes": "A brief analysis comparing and contrasting deontological (duty-based) and utilitarian (consequence-based) ethical frameworks.", "essay": "Essay content for week 2.", "story": "Story content for week 2.", "quiz": "Quiz content for week 2.", "classWork": "Class work for week 2." } },
                    { "week": 3, "title": "Personal Epistemology Paper", "content": { "notes": "This assignment required an in-depth, self-reflective analysis of my core methods of acquiring and validating knowledge (my epistemology).", "essay": "Essay content for week 3.", "story": "Story content for week 3.", "quiz": "Quiz content for week 3.", "classWork": "Class work for week 3." } },
                    { "week": 4, "title": "Cultural Worldview Reflection", "content": { "notes": "Exploration of how my family and regional (Vermont) culture has shaped my perception of success, community, and personal responsibility.", "essay": "Essay content for week 4.", "story": "Story content for week 4.", "quiz": "Quiz content for week 4.", "classWork": "Class work for week 4." } },
                    { "week": 5, "title": "Social Institutions Micro-Analysis", "content": { "notes": "A functionalist perspective analysis of the high school as a social institution, focusing on its manifest (stated) and latent (unintended) functions.", "essay": "Essay content for week 5.", "story": "Story content for week 5.", "quiz": "Quiz content for week 5.", "classWork": "Class work for week 5." } },
                    { "week": 6, "title": "Social Structure Presentation Analysis", "content": { "notes": "Prepared a presentation analyzing the dynamic relationship between individual agency and the constraints/opportunities presented by social structures.", "essay": "Essay content for week 6.", "story": "Story content for week 6.", "quiz": "Quiz content for week 6.", "classWork": "Class work for week 6." } },
                    { "week": 7, "title": "Research Topic Proposal & Outline", "content": { "notes": "Developed a formal research proposal for the final capstone, defining the scope, preliminary research questions, and proposed methodology.", "essay": "Essay content for week 7.", "story": "Story content for week 7.", "quiz": "Quiz content for week 7.", "classWork": "Class work for week 7." } },
                    { "week": 8, "title": "Midterm Synthesis and Reflection", "content": { "notes": "A self-assessment and formal academic paper summarizing the central concepts learned in the first half of the course.", "essay": "Essay content for week 8.", "story": "Story content for week 8.", "quiz": "Quiz content for week 8.", "classWork": "Class work for week 8." } },
                    { "week": 9, "title": "Power, Privilege, and Advocacy", "content": { "notes": "An essay analyzing different forms of social power (economic, political, cultural) and reflecting on my own positionality.", "essay": "Essay content for week 9.", "story": "Story content for week 9.", "quiz": "Quiz content for week 9.", "classWork": "Class work for week 9." } },
                    { "week": 10, "title": "Final Capstone Outline & Draft", "content": { "notes": "Submission of the complete outline and a substantial first draft of the 2,500-word final research paper.", "essay": "Essay content for week 10.", "story": "Story content for week 10.", "quiz": "Quiz content for week 10.", "classWork": "Class work for week 10." } },
                    { "week": 11, "title": "Global Citizenship Essay", "content": { "notes": "A comparative essay exploring how concepts of self and society differ between a Western liberal democracy (US) and a non-Western nation.", "essay": "Essay content for week 11.", "story": "Story content for week 11.", "quiz": "Quiz content for week 11.", "classWork": "Class work for week 11." } },
                    { "week": 12, "title": "Theory Application Case Study (Education)", "content": { "notes": "Detailed case study of a specific secondary classroom scenario, recommending solutions based on an assigned psychological or sociological theory.", "essay": "Essay content for week 12.", "story": "Story content for week 12.", "quiz": "Quiz content for week 12.", "classWork": "Class work for week 12." } },
                    { "week": 13, "title": "Community Engagement Proposal", "content": { "notes": "Developed a practical plan for a volunteer or community engagement project that aligns with the social justice themes of the course.", "essay": "Essay content for week 13.", "story": "Story content for week 13.", "quiz": "Quiz content for week 13.", "classWork": "Class work for week 13." } },
                    { "week": 14, "title": "Final Paper Peer Review & Revisions", "content": { "notes": "Provided detailed feedback on a classmate's final paper draft and integrated constructive critiques into my own work.", "essay": "Essay content for week 14.", "story": "Story content for week 14.", "quiz": "Quiz content for week 14.", "classWork": "Class work for week 14." } },
                    { "week": 15, "title": "Final Capstone Submission", "content": { "notes": "Final submission of the 2,500-word Capstone research paper and comprehensive course portfolio.", "essay": "Essay content for week 15.", "story": "Story content for week 15.", "quiz": "Quiz content for week 15.", "classWork": "Class work for week 15." } }
                ]
            },
            { 
                "id": "soc-101", 
                "semester": "Spring 2025", 
                "title": "SOC 101: Introduction to Sociology", 
                "description": "Foundational concepts in social structures, inequality, and cultural analysis. **Click for weekly assignments.**", 
                "icon": "users", 
                "color": "green",
                "weeks": [
                    { "week": 1, "title": "The Sociological Imagination", "content": { "notes": "Notes for week 1 of SOC 101.", "essay": "Essay for week 1 of SOC 101.", "story": "Story for week 1 of SOC 101.", "quiz": "Quiz for week 1 of SOC 101.", "classWork": "Class work for week 1 of SOC 101." } },
                    { "week": 2, "title": "Culture and Socialization", "content": { "notes": "Notes for week 2 of SOC 101.", "essay": "Essay for week 2 of SOC 101.", "story": "Story for week 2 of SOC 101.", "quiz": "Quiz for week 2 of SOC 101.", "classWork": "Class work for week 2 of SOC 101." } }
                ]
            },
            { 
                "id": "edu-105", 
                "semester": "Spring 2025", 
                "title": "EDU 105: Intro to Special Education", 
                "description": "Foundational practices in supporting students with diverse learning needs and UDL principles. **Click for weekly assignments.**", 
                "icon": "accessibility", 
                "color": "purple",
                "weeks": [
                    { "week": 1, "title": "History and Legal Foundations", "content": { "notes": "Notes for week 1 of EDU 105.", "essay": "Essay for week 1 of EDU 105.", "story": "Story for week 1 of EDU 105.", "quiz": "Quiz for week 1 of EDU 105.", "classWork": "Class work for week 1 of EDU 105." } },
                    { "week": 2, "title": "Individualized Education Programs (IEPs)", "content": { "notes": "Notes for week 2 of EDU 105.", "essay": "Essay for week 2 of EDU 105.", "story": "Story for week 2 of EDU 105.", "quiz": "Quiz for week 2 of EDU 105.", "classWork": "Class work for week 2 of EDU 105." } }
                ]
            }
        ],
        "projects": [
            { "id": "gilded-age-paper", "title": "The Gilded Age: An Economic Analysis", "description": "A research paper exploring the rapid social and economic shifts in 19th-century American cities.", "icon": "file-text", "color": "indigo", "tags": [ {"name": "History 101", "color": "indigo"}, {"name": "Research", "color": "sky"} ], "linkText": "Read Paper" },
            { "id": "lesson-plan", "title": "US Government: The Bill of Rights", "description": "A detailed, universally designed lesson plan for 10th-grade history, including differentiated activities and choice assessments.", "icon": "book-open-check", "color": "orange", "tags": [ {"name": "Education", "color": "orange"}, {"name": "Inclusion/UDL", "color": "purple"} ], "linkText": "View Lesson Plan" },
            { "id": "anthro-preso", "title": "Cultural Anthropology Presentation", "description": "A slide deck analyzing the cultural significance of rituals and symbols in modern societies.", "icon": "presentation", "color": "emerald", "tags": [ {"name": "Anthropology", "color": "red"}, {"name": "Presentation", "color": "blue"} ], "linkText": "See Presentation" }
        ],
        "notes": [
            { "id": "gilded-age", "title": "American History: The Gilded Age", "summary": "Notes on industrialization, immigration, and political corruption.", "icon": "pencil", "keywords": "history american gilded age industrialization" },
            { "id": "social-class", "title": "Sociology: Theories of Social Class", "summary": "Comparing the perspectives of Karl Marx and Max Weber.", "icon": "book-marked", "keywords": "sociology social class marx weber" },
            { "id": "ancient-rome", "title": "Ancient Rome: Republic to Empire", "summary": "Key events and figures in the transition of Roman governance.", "icon": "landmark", "keywords": "history ancient rome republic empire" },
            { "id": "vygotsky-theories", "title": "Educational Psychology: Vygotsky's Theories", "summary": "Understanding the Zone of Proximal Development.", "icon": "brain-circuit", "keywords": "education psychology vygotsky learning special needs" },
            { "id": "checks-balances", "title": "US Government: Checks and Balances", "summary": "The separation of powers between the three branches.", "icon": "scale", "keywords": "government constitution checks balances" },
            { "id": "utilitarianism", "title": "Intro to Ethics: Utilitarianism", "summary": "Core principles of the greatest good for the greatest number.", "icon": "lightbulb", "keywords": "philosophy ethics utilitarianism" },
            { "id": "feudalism", "title": "World History: Feudalism", "summary": "Summary of political and social hierarchies in medieval Europe.", "icon": "shield", "keywords": "history middle ages feudalism" },
            { "id": "classroom-management", "title": "Pedagogy: Effective Classroom Management", "summary": "Techniques for maintaining engagement and order.", "icon": "layout-dashboard", "keywords": "education pedagogy classroom management udl accommodations" },
            { "id": "research-methods", "title": "Sociology: Research Methods", "summary": "Differentiating between quantitative and qualitative research.", "icon": "bar-chart-3", "keywords": "sociology research methods quantitative qualitative" },
            { "id": "int1050-week1", "title": "INT-1050: Personal Learning Plan", "summary": "Drafting course alignment with long-term career and UDL goals.", "icon": "compass", "keywords": "int1050 self society week1 plp plan goals resources" },
            { "id": "int1050-week2", "title": "INT-1050: Deontology vs. Utilitarianism", "summary": "Comparing duty-based and consequentialist ethical frameworks.", "icon": "scale", "keywords": "int1050 ethics duty utilitarianism policy" },
            { "id": "int1050-week3", "title": "INT-1050: Epistemology Paper", "summary": "Reflection on personal ways of knowing and the role of UDL.", "icon": "file-text", "keywords": "int1050 epistemology knowing learning styles udl" },
            { "id": "int1050-week4", "title": "INT-1050: Cultural Identity Reflection", "summary": "Analysis of how regional culture shapes perceptions of success.", "icon": "map-pin", "keywords": "int1050 culture vermont identity worldview" },
            { "id": "int1050-week5", "title": "INT-1050: Social Institutions Analysis", "summary": "Functionalist view of high school: manifest vs. latent functions.", "icon": "users", "keywords": "int1050 sociology institutions school manifest latent" },
            { "id": "int1050-week6", "title": "INT-1050: Social Structure & Agency", "summary": "Analyzing individual choice in the context of social class and capital.", "icon": "presentation", "keywords": "int1050 social structure agency habitus presentation" },
            { "id": "int1050-week7", "title": "INT-1050: Research Proposal (Capstone)", "summary": "Developing the formal plan for the final paper on UDL.", "icon": "flask-conical", "keywords": "int1050 capstone research proposal dyslexia udl" },
            { "id": "int1050-week8", "title": "INT-1050: Midterm Synthesis Paper", "summary": "Synthesizing first half concepts and self-assessment.", "icon": "clipboard-list", "keywords": "int1050 midterm synthesis reflection grades" },
            { "id": "int1050-week9", "title": "INT-1050: Power, Privilege & Advocacy", "summary": "Analyzing power structures and the educator's role as an advocate.", "icon": "gauge", "keywords": "int1050 power privilege advocacy intersectionality" },
            { "id": "int1050-week10", "title": "INT-1050: Final Capstone Draft", "summary": "Substantial submission and review of the main research paper draft.", "icon": "file-edit", "keywords": "int1050 capstone final outline draft" },
            { "id": "int1050-week11", "title": "INT-1050: Global Citizenship Essay", "summary": "Comparative analysis of Western/non-Western duties.", "icon": "globe", "keywords": "int1050 global citizenship relativism duties" },
            { "id": "int1050-week12", "title": "INT-1050: Theory Application (Vygotsky)", "summary": "Case study applying Vygotsky's ZPD to a classroom scenario.", "icon": "brain-circuit", "keywords": "int1050 theory case study vygotsky scaffolding" },
            { "id": "int1050-week13", "title": "INT-1050: Community Project Proposal", "summary": "Plan for tutoring high school students using course themes.", "icon": "handshake", "keywords": "int1050 community engagement tutoring proposal" },
            { "id": "int1050-week14", "title": "INT-1050: Peer Review & Revisions", "summary": "Summary of final paper critiques and revision strategy.", "icon": "git-pull-request-draft", "keywords": "int1050 final review revision peer udel" },
            { "id": "int1050-week15", "title": "INT-1050: Final Capstone Submission", "summary": "Culmination of coursework and final paper on inclusive education.", "icon": "award", "keywords": "int1050 capstone final submission portfolio" }
        ]
    }
    </script>

    <script>
        /**
         * ===================================================================
         * Main Application Script for Hesten's Portfolio
         * ===================================================================
         * This script manages all dynamic functionality for the portfolio website.
         * It follows a modular, data-driven approach:
         *
         * 1. DATA INITIALIZATION:
         * - Loads all portfolio content (notes, courses, etc.) from a single
         * JSON data block in the HTML (`#portfolio-data`).
         *
         * 2. DOM ELEMENT REFERENCES (`doc` object):
         * - Caches references to all key HTML elements for efficient access,
         * avoiding repeated `getElementById` calls.
         *
         * 3. STATE MANAGEMENT (`state` object):
         * - Holds the application's current state, such as the number of
         * visible notes for the "Load More" feature.
         *
         * 4. MANAGERS (Objects with specific responsibilities):
         * - `themeManager`: Handles light/dark mode switching and persistence.
         * - `modalManager`: Controls all aspects of opening, closing, and
         * populating modal windows, including the nested course-to-week flow and permalinks.
         * - `render`: Contains functions to dynamically generate HTML for
         * different sections (timeline, courses, notes) based on the JSON data.
         *
         * 5. EVENT LISTENERS:
         * - Uses event delegation where possible for efficiency (e.g., a single
         * listener on `document.body` for all modal triggers).
         *
         * 6. INITIALIZATION (`initializePage` function):
         * - Kicks everything off when the DOM is ready. It calls the `init`
         * methods of the managers, performs the initial render, and checks for permalinks.
         *
         * This structure makes the site easy to update. To add a new note or project,
         * one only needs to modify the JSON data, and the script handles the rest.
         * ===================================================================
         */
        document.addEventListener('DOMContentLoaded', () => {
            // --- 1. DATA INITIALIZATION ---
            // All content for the site is loaded from this single JSON source.
            const portfolioData = JSON.parse(document.getElementById('portfolio-data').textContent);

            // --- 2. DOM ELEMENT REFERENCES ---
            // Caching DOM elements improves performance by reducing redundant queries.
            const doc = {
                html: document.documentElement,
                mobileMenu: document.getElementById('mobile-menu'),
                menuIcon: document.getElementById('menu-icon'),
                theme: {
                    desktop: {
                        toggle: document.getElementById('theme-toggle-desktop'),
                        icon: document.getElementById('theme-icon-desktop'),
                    },
                    mobile: {
                        toggle: document.getElementById('theme-toggle-mobile'),
                        icon: document.getElementById('theme-icon-mobile'),
                        text: document.getElementById('mobile-toggle-text'),
                    }
                },
                timelineContainer: document.getElementById('timeline-container'),
                coursesGrid: document.getElementById('courses-grid'),
                portfolioGrid: document.getElementById('portfolio-grid'),
                notes: {
                    list: document.getElementById('notes-list'),
                    searchInput: document.getElementById('notes-search'),
                    clearSearchBtn: document.getElementById('clear-search'),
                    noResults: document.getElementById('no-results'),
                    loadMoreBtn: document.getElementById('load-more-notes'),
                },
                modal: {
                    container: document.getElementById('custom-modal'),
                    title: document.getElementById('modal-title'),
                    contentBody: document.getElementById('modal-content-body'),
                    closeBtn: document.getElementById('close-modal-button'),
                    gotItBtn: document.getElementById('modal-got-it-button'),
                    backBtn: document.getElementById('modal-back-button'),
                }
            };

            // --- 3. STATE MANAGEMENT ---
            // Keeps track of dynamic states, like how many notes are currently shown.
            const state = {
                notesVisibleCount: 6,
                notesIncrement: 3,
                isModalOpen: false,
            };

            // --- 4. THEME MANAGEMENT ---
            // Handles toggling light/dark mode and saving the user's preference.
            const themeManager = {
                init() {
                    const storedTheme = localStorage.getItem('theme');
                    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                    if (storedTheme === 'dark' || (!storedTheme && prefersDark)) {
                        this.setTheme('dark');
                    } else {
                        this.setTheme('light');
                    }
                    doc.theme.desktop.toggle.addEventListener('click', () => this.toggle());
                    doc.theme.mobile.toggle.addEventListener('click', () => this.toggle());
                },
                toggle() {
                    doc.html.classList.contains('dark') ? this.setTheme('light') : this.setTheme('dark');
                },
                setTheme(theme) {
                    doc.html.classList.toggle('dark', theme === 'dark');
                    localStorage.setItem('theme', theme);
                    const isDark = theme === 'dark';
                    const iconName = isDark ? 'moon' : 'sun';
                    doc.theme.desktop.icon.setAttribute('data-lucide', iconName);
                    doc.theme.mobile.icon.setAttribute('data-lucide', iconName);
                    doc.theme.mobile.text.textContent = isDark ? 'Toggle Light Mode' : 'Toggle Dark Mode';
                    lucide.createIcons();
                }
            };

            // --- 5. UI RENDERING FUNCTIONS ---
            // A collection of functions that build HTML from the portfolio data.
            const render = {
                // Generates the HTML for the education timeline.
                timeline() {
                    const items = portfolioData.timeline.map(item => {
                        const isLeft = item.align === 'left';
                        const colors = {
                            slate: 'bg-slate-400', primary: 'bg-primary-600', amber: 'bg-amber-500', dark: 'bg-dark'
                        };
                        return `
                        <div class="flex md:contents ${isLeft ? '' : 'flex-row-reverse'}">
                            <div class="col-start-2 col-end-4 ${isLeft ? 'mr-auto' : 'ml-auto'} md:mx-auto relative">
                                <div class="h-full w-8 flex items-center justify-center">
                                    <div class="w-6 h-6 rounded-full ${colors[item.color]} border-4 border-white dark:border-dark-card z-10 ${item.active ? 'animate-pulse' : ''}"></div>
                                </div>
                            </div>
                            <div data-modal-key="${item.id}" tabindex="0" role="button" class="col-start-4 col-end-12 p-4 md:p-6 mb-10 w-full md:w-[calc(50%-2rem)] ${isLeft ? 'md:ml-auto' : 'md:mr-auto'} ${isLeft ? 'md:text-left' : 'md:text-right'} rounded-xl bg-white border border-slate-200 shadow-xl-2 hover:shadow-2xl transition duration-300 transform hover:scale-[1.01] dark:bg-dark-card dark:border-slate-700 dark:shadow-dark-xl-2 cursor-pointer hover:bg-primary-50 dark:hover:bg-dark-card/50">
                                <div class="flex ${isLeft ? 'justify-between' : 'justify-end'} items-start">
                                    ${isLeft ? `<div><p class="text-xs font-semibold uppercase text-slate-500 dark:text-slate-400 mb-1">${item.date}</p><h3 class="font-bold text-lg text-slate-900 dark:text-slate-100">${item.title}</h3></div>` : ''}
                                    <i data-lucide="external-link" class="w-4 h-4 flex-shrink-0 text-slate-500 dark:text-slate-400 ${isLeft ? 'ml-3' : ''}"></i>
                                    ${!isLeft ? `<div class="text-right mr-3"><p class="text-xs font-semibold uppercase text-primary-600 dark:text-primary-400 mb-1">${item.date}</p><h3 class="font-bold text-lg text-slate-900 dark:text-slate-100">${item.title}</h3></div>` : ''}
                                </div>
                                <p class="text-sm text-slate-600 mt-2 dark:text-slate-400">${item.description}</p>
                            </div>
                        </div>
                    `;
                    }).join('');
                    doc.timelineContainer.innerHTML = items;
                },
                // Generates the HTML for the course cards.
                courses() {
                    const items = portfolioData.courses.map(course => {
                        const colors = {
                            primary: 'border-primary-100 hover:border-primary-400 dark:border-primary-700 dark:hover:border-primary-400',
                            green: 'border-green-100 hover:border-green-400 dark:border-green-700 dark:hover:border-green-400',
                            purple: 'border-purple-100 hover:border-purple-400 dark:border-purple-700 dark:hover:border-purple-400'
                        };
                        const textColors = {
                            primary: 'text-primary-600 dark:text-primary-400',
                            green: 'text-green-600 dark:text-green-400',
                            purple: 'text-purple-600 dark:text-purple-400'
                        };
                        return `
                        <div data-modal-key="${course.id}" tabindex="0" role="button" class="bg-white rounded-xl border ${colors[course.color]} shadow-lg-2 p-6 hover:shadow-xl-2 hover:scale-[1.01] transition-all duration-300 cursor-pointer dark:bg-dark-card">
                            <div class="flex justify-between items-center mb-3">
                                <div class="flex items-center">
                                    <i data-lucide="${course.icon}" class="w-6 h-6 ${textColors[course.color]} mr-3"></i>
                                    <span class="text-sm font-semibold ${textColors[course.color]}">${course.semester}</span>
                                </div>
                                <i data-lucide="external-link" class="w-4 h-4 flex-shrink-0 ${textColors[course.color]}"></i>
                            </div>
                            <h3 class="text-xl font-bold text-slate-900 mb-1 dark:text-slate-100">${course.title}</h3>
                            <p class="text-slate-600 text-sm dark:text-slate-400">${course.description}</p>
                        </div>
                    `;
                    }).join('');
                    doc.coursesGrid.innerHTML = items;
                },
                // Generates the HTML for the project cards in the portfolio.
                portfolio() {
                    const items = portfolioData.projects.map(project => {
                        const colors = {
                            indigo: 'text-indigo-600 dark:text-indigo-400 hover:border-indigo-400 dark:hover:border-indigo-500',
                            orange: 'text-orange-600 dark:text-orange-400 hover:border-orange-400 dark:hover:border-orange-500',
                            emerald: 'text-emerald-600 dark:text-emerald-400 hover:border-emerald-400 dark:hover:border-emerald-500'
                        };
                        const tagHtml = project.tags.map(tag => {
                            const tagColors = {
                                indigo: 'bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300',
                                sky: 'bg-sky-100 text-sky-800 dark:bg-sky-900 dark:text-sky-300',
                                orange: 'bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300',
                                purple: 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300',
                                red: 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300',
                                blue: 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300'
                            };
                            return `<span class="${tagColors[tag.color]} text-xs font-medium px-3 py-1 rounded-full">${tag.name}</span>`;
                        }).join('');
                        return `
                        <div data-modal-key="${project.id}" tabindex="0" class="group bg-white rounded-xl border border-slate-200 shadow-lg-2 p-6 ${colors[project.color]} transition-all duration-300 transform hover:-translate-y-1 cursor-pointer dark:bg-dark-card dark:border-slate-700 dark:shadow-dark-xl-2">
                            <i data-lucide="${project.icon}" class="w-8 h-8 mb-4 group-hover:scale-110 transition-transform"></i>
                            <h3 class="text-xl font-semibold mb-2 text-slate-900 dark:text-slate-100">${project.title}</h3>
                            <p class="text-slate-600 mb-4 text-sm dark:text-slate-400">${project.description}</p>
                            <div class="flex flex-wrap gap-2 mb-4">${tagHtml}</div>
                            <a href="#" class="font-semibold text-primary-600 hover:text-primary-700 transition-colors duration-300 inline-flex items-center text-sm dark:text-primary-400 dark:hover:text-primary-300">
                                ${project.linkText} <i data-lucide="chevron-right" class="ml-1 w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
                            </a>
                        </div>
                    `;
                    }).join('');
                    doc.portfolioGrid.innerHTML = items;
                },
                // Renders the notes list, handling both initial display and search filtering.
                notes(filter = '') {
                    const filteredNotes = filter ?
                        portfolioData.notes.filter(note => note.keywords.toLowerCase().includes(filter) || note.title.toLowerCase().includes(filter)) :
                        [...portfolioData.notes];

                    const noteHtml = filteredNotes.map((note, index) => {
                        const isHidden = !filter && index >= state.notesVisibleCount;
                        return `
                        <li data-modal-key="note-${note.id}" tabindex="0" data-keywords="${note.keywords}" class="note-item bg-slate-50 p-4 rounded-xl border border-slate-200 hover:border-primary-400 transition-colors cursor-pointer shadow-sm hover:shadow-md dark:bg-slate-700 dark:border-slate-600 dark:hover:border-primary-400 ${isHidden ? 'hidden' : ''}">
                            <h4 class="font-semibold flex items-center text-slate-900 dark:text-slate-100"><i data-lucide="${note.icon}" class="text-primary-600 w-4 h-4 mr-2 dark:text-primary-400"></i>${note.title}</h4>
                            <p class="text-sm text-slate-500 mt-1 dark:text-slate-400">${note.summary}</p>
                        </li>
                    `;
                    }).join('');

                    doc.notes.list.innerHTML = noteHtml;
                    doc.notes.noResults.classList.toggle('hidden', filteredNotes.length > 0);

                    const hasMoreNotes = !filter && state.notesVisibleCount < portfolioData.notes.length;
                    doc.notes.loadMoreBtn.classList.toggle('hidden', !hasMoreNotes);
                }
            };

            // --- 6. MODAL MANAGEMENT ---
            // Handles all logic for pop-up windows, including permalinks.
            const modalManager = {
                /**
                 * Opens a modal window with content determined by a unique key.
                 * @param {string} key - The identifier for the content to display.
                 * @param {boolean} isFromHistory - True if the call is from a popstate event (back/forward button).
                 */
                open(key, isFromHistory = false) {
                    if (!key) return;

                    let data;
                    let isWeeklyDetail = false;
                    let parentCourseId = '';

                    // Logic for nested course week modals (e.g., "course-week-int-1050-1").
                    if (key.startsWith('course-week-')) {
                        isWeeklyDetail = true;
                        const parts = key.split('-');
                        const weekNum = parts.pop();
                        parts.shift(); // remove 'course'
                        parts.shift(); // remove 'week'
                        const courseId = parts.join('-');
                        parentCourseId = courseId;

                        const course = portfolioData.courses.find(c => c.id === courseId);
                        if (course && course.weeks) {
                            const weekData = course.weeks.find(w => w.week == weekNum);
                            if (weekData && weekData.content) {
                                // Generate tabbed interface for weekly content.
                                const tabs = Object.keys(weekData.content);
                                const tabButtons = tabs.map((tab, index) => {
                                    const tabName = tab.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase());
                                    return `<button data-tab="${tab}" class="tab-button px-4 py-2 text-sm font-medium rounded-md ${index === 0 ? 'bg-primary-100 text-primary-700 dark:bg-slate-600 dark:text-primary-300' : 'text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-700'}">${tabName}</button>`;
                                }).join('');

                                const tabContents = tabs.map((tab, index) => {
                                    return `<div data-tab-content="${tab}" class="tab-content mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg ${index === 0 ? '' : 'hidden'}">${weekData.content[tab]}</div>`;
                                }).join('');

                                const tabbedHtml = `
                                <div class="border-b border-slate-200 dark:border-slate-600 mb-4">
                                    <nav class="flex space-x-2" aria-label="Tabs">${tabButtons}</nav>
                                </div>
                                <div>${tabContents}</div>
                            `;
                                data = { title: `${course.id.toUpperCase()}: Week ${weekData.week} - ${weekData.title}`, content: tabbedHtml };
                            }
                        }
                        // Logic for top-level modals (e.g., a course overview).
                    } else {
                        data = portfolioData.modals[key] || portfolioData.projects.find(i => i.id === key);
                        const courseData = portfolioData.courses.find(i => i.id === key);
                        if (courseData && courseData.weeks) {
                            // Generate the list of weeks for a course.
                            const weeksHtml = courseData.weeks.map(week => `
                            <a href="#course-week-${courseData.id}-${week.week}" data-modal-key="course-week-${courseData.id}-${week.week}" class="block p-3 bg-slate-100 rounded-lg dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors">
                                <p class="font-semibold text-slate-900 dark:text-slate-100">Week ${week.week}: ${week.title}</p>
                            </a>
                        `).join('');
                            data = { title: `${courseData.title} - Weekly Assignments`, content: `<div class="space-y-2">${weeksHtml}</div>` };
                        }
                    }

                    // Special handling for individual notes.
                    if (key.startsWith('note-')) {
                        const noteId = key.replace('note-', '');
                        const noteData = portfolioData.notes.find(n => n.id === noteId);
                        if (noteData) {
                            data = { title: `Note: ${noteData.title}`, content: `Detailed content for '${noteData.title}' would go here. You can add a 'content' field to your note objects in the JSON data.` };
                        }
                    }

                    if (!data) {
                        console.error('Modal content not found for key:', key);
                        data = { title: "Content Not Found", content: "Sorry, the details for this item could not be loaded." };
                    }

                    // Populate and show the modal.
                    doc.modal.title.textContent = data.title;
                    doc.modal.contentBody.innerHTML = data.content || data.description;

                    // Show or hide the "Back" button.
                    if (isWeeklyDetail) {
                        doc.modal.backBtn.classList.remove('hidden');
                        doc.modal.backBtn.dataset.modalKey = parentCourseId;
                    } else {
                        doc.modal.backBtn.classList.add('hidden');
                    }

                    if (!state.isModalOpen) {
                        doc.modal.container.style.display = 'flex';
                        doc.html.style.overflow = 'hidden'; // Prevent background scrolling
                        state.isModalOpen = true;
                    }

                    doc.modal.container.focus(); // For accessibility
                    lucide.createIcons(); // Re-render any new icons in the modal

                    // Update URL for permalink unless it's a history navigation.
                    if (!isFromHistory && window.location.hash !== `#${key}`) {
                        const hash = `#${key}`;
                        // Use pushState to create a new entry in browser history.
                        history.pushState({ modalKey: key }, "", hash);
                    }
                },
                close(isFromHistory = false) {
                    if (!state.isModalOpen) return;

                    doc.modal.container.style.display = 'none';
                    doc.html.style.overflow = '';
                    state.isModalOpen = false;

                    // When closing manually (not via back button), we need to update the history state.
                    if (!isFromHistory && window.location.hash) {
                        // This pushes a new state representing the "closed" modal state (the base URL).
                        history.pushState({ modalKey: null }, "", window.location.pathname + window.location.search);
                    }
                },
                // Sets up all event listeners for the modal.
                init() {
                    // Close button, "Got It" button, and Escape key trigger history.back()
                    const closeAction = () => {
                        if (window.location.hash) {
                            history.back();
                        } else {
                            this.close(true);
                        }
                    };

                    doc.modal.closeBtn.addEventListener('click', closeAction);
                    doc.modal.gotItBtn.addEventListener('click', closeAction);

                    document.addEventListener('keydown', (e) => {
                        if (e.key === 'Escape' && state.isModalOpen) {
                            closeAction();
                        }
                    });

                    // The back button uses the open function to navigate to its parent modal.
                    doc.modal.backBtn.addEventListener('click', (e) => {
                        const parentKey = e.currentTarget.dataset.modalKey;
                        if (parentKey) this.open(parentKey);
                    });

                    // Clicking the modal backdrop closes it.
                    doc.modal.container.addEventListener('click', (e) => {
                        if (e.target === doc.modal.container) closeAction();
                    });

                    // Event delegation for tab switching inside the modal.
                    doc.modal.contentBody.addEventListener('click', (e) => {
                        const tabButton = e.target.closest('.tab-button');
                        if (!tabButton) return;

                        const activeTab = tabButton.dataset.tab;
                        const contentContainer = tabButton.closest('.modal-content');

                        // Update button styles: remove active styles from all, then add to the clicked one.
                        contentContainer.querySelectorAll('.tab-button').forEach(btn => {
                            btn.classList.remove('bg-primary-100', 'text-primary-700', 'dark:bg-slate-600', 'dark:text-primary-300', 'border-primary-500', 'text-primary-600');
                            btn.classList.add('text-slate-500', 'hover:bg-slate-100', 'dark:text-slate-400', 'dark:hover:bg-slate-700', 'border-transparent', 'hover:text-slate-700', 'hover:border-slate-300');

                        });
                        tabButton.classList.add('bg-primary-100', 'text-primary-700', 'dark:bg-slate-600', 'dark:text-primary-300', 'border-primary-500', 'text-primary-600');
                        tabButton.classList.remove('text-slate-500', 'hover:bg-slate-100', 'dark:text-slate-400', 'dark:hover:bg-slate-700', 'border-transparent', 'hover:text-slate-700', 'hover:border-slate-300');

                        // Show the active tab's content and hide others.
                        contentContainer.querySelectorAll('.tab-content').forEach(content => {
                            content.classList.toggle('hidden', content.dataset.tabContent !== activeTab);
                        });
                    });
                }
            };

            // --- 7. EVENT LISTENERS ---
            // Mobile Menu Toggle
            document.getElementById('mobile-menu-button').addEventListener('click', () => {
                const isHidden = doc.mobileMenu.classList.toggle('hidden');
                doc.menuIcon.setAttribute('data-lucide', isHidden ? 'menu' : 'x');
                lucide.createIcons();
            });

            document.querySelectorAll('.mobile-nav-link').forEach(link => {
                link.addEventListener('click', () => {
                    doc.mobileMenu.classList.add('hidden');
                    doc.menuIcon.setAttribute('data-lucide', 'menu');
                    lucide.createIcons();
                });
            });

            // Notes Search functionality
            doc.notes.searchInput.addEventListener('input', () => {
                const filter = doc.notes.searchInput.value.toLowerCase().trim();
                doc.notes.clearSearchBtn.classList.toggle('hidden', filter.length === 0);
                render.notes(filter);
            });

            doc.notes.clearSearchBtn.addEventListener('click', () => {
                doc.notes.searchInput.value = '';
                doc.notes.clearSearchBtn.classList.add('hidden');
                state.notesVisibleCount = 6; // Reset note visibility
                render.notes();
            });

            // "Load More" button for notes
            doc.notes.loadMoreBtn.addEventListener('click', () => {
                state.notesVisibleCount += state.notesIncrement;
                render.notes();
            });

            // Main Modal Trigger using Event Delegation for the whole page.
            // This is more efficient than adding a listener to every single button.
            document.body.addEventListener('click', (e) => {
                const trigger = e.target.closest('[data-modal-key]');
                if (trigger) {
                    e.preventDefault();
                    modalManager.open(trigger.dataset.modalKey);
                }
            });
            document.body.addEventListener('keydown', (e) => {
                const trigger = e.target.closest('[data-modal-key]');
                if (trigger && (e.key === 'Enter' || e.key === ' ')) {
                    e.preventDefault();
                    modalManager.open(trigger.dataset.modalKey);
                }
            });

            // Browser History (Back/Forward) event listener for permalinks.
            // This function is called when the user clicks the browser's back or forward buttons.
            window.addEventListener('popstate', (event) => {
                // Get the modal key from the history state or the URL hash.
                const key = event.state?.modalKey || window.location.hash.substring(1);
                if (key) {
                    // If a key exists, open the corresponding modal.
                    modalManager.open(key, true);
                } else {
                    // If there's no key, it means we are back at the base page, so close any open modal.
                    modalManager.close(true);
                }
            });

            // Intersection Observer for fade-in-on-scroll animations.
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('faded-in');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.section-animate').forEach(section => observer.observe(section));

            // --- 8. INITIAL PAGE LOAD ---
            // This function runs once the DOM is ready, setting up the entire application.
            function initializePage() {
                themeManager.init();
                modalManager.init();
                render.timeline();
                render.courses();
                render.portfolio();
                render.notes();
                lucide.createIcons();

                // Check for a permalink in the URL on initial load.
                const initialKey = window.location.hash.substring(1);
                if (initialKey) {
                    // Use a small timeout to ensure the page is fully rendered before opening the modal.
                    setTimeout(() => {
                        modalManager.open(initialKey, true);
                    }, 100);
                }

                // The hero section is faded in immediately for a nice loading effect.
                document.getElementById('hero').classList.add('faded-in');
            }

            initializePage();
        });
    </script>
</body>

</html>